# V2bX-Nodemix# V2bX-Nodemix# V2bX-Nodemix



V2bX å¤šå®ä¾‹ç®¡ç†ç³»ç»Ÿ - æ”¯æŒç‹¬ç«‹ WireGuard å‡ºç«™ + Web ç®¡ç†ç•Œé¢



## ä¸€é”®å®‰è£…> V2bX å¤šå®ä¾‹ç®¡ç†ç³»ç»Ÿ - æ”¯æŒ WireGuard å‡ºç«™ + Web ç®¡ç†ç•Œé¢> åŸºäº sing-box çš„ V2bX å¤šå®ä¾‹ç®¡ç†ç³»ç»Ÿ



```bash

wget -O install.sh https://raw.githubusercontent.com/Cd1s/V2bX-Nodemix/main/install.sh

chmod +x install.shä¸€å°æœåŠ¡å™¨è¿è¡Œå¤šä¸ª V2bX å®ä¾‹,æ¯ä¸ªå®ä¾‹é€šè¿‡ sing-box é…ç½®ç‹¬ç«‹çš„ WireGuard å‡ºå£èŠ‚ç‚¹ã€‚åœ¨å•å°æœåŠ¡å™¨ä¸Šè¿è¡Œå¤šä¸ª V2bX å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹é€šè¿‡ sing-box å†…ç½®çš„ WireGuard ä½¿ç”¨ä¸åŒçš„å‡ºå£èŠ‚ç‚¹ã€‚

sudo bash install.sh

```



å®‰è£…å®Œæˆåè¿è¡Œ: `v2bx-nodemix`## âœ¨ æ ¸å¿ƒåŠŸèƒ½[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)



---



## ç®¡ç†è„šæœ¬- ğŸš€ å¤šå®ä¾‹ç®¡ç† - å•æœåŠ¡å™¨è¿è¡Œå¤šä¸ª V2bX èŠ‚ç‚¹## âœ¨ ç‰¹æ€§



### äº¤äº’å¼ç®¡ç†ç•Œé¢- ğŸ” WireGuard å‡ºç«™ - æ¯ä¸ªå®ä¾‹ç‹¬ç«‹ WireGuard é…ç½®



```bash- ğŸŒ Web ç®¡ç†ç•Œé¢ - åœ¨çº¿ç®¡ç†å®ä¾‹å’Œé…ç½®- ğŸš€ **å¤šå®ä¾‹ç®¡ç†** - ä¸€å°æœåŠ¡å™¨è¿è¡Œå¤šä¸ª V2bX å®ä¾‹

v2bx-nodemix

```- ğŸ® äº¤äº’å¼æ§åˆ¶å° - 17é¡¹ç®¡ç†åŠŸèƒ½- ğŸ” **WireGuard å‡ºç«™** - åœ¨ `sing_origin.json` ä¸­é…ç½® WireGuard



æä¾› 17 é¡¹åŠŸèƒ½:- ğŸ”„ æ‰¹é‡æ“ä½œ - ä¸€é”®å¯åŠ¨/åœæ­¢æ‰€æœ‰å®ä¾‹- ğŸŒ **Web ç®¡ç†ç•Œé¢** - åœ¨çº¿ç¼–è¾‘é…ç½®æ–‡ä»¶

- å®ä¾‹ç®¡ç† (å¯åŠ¨/åœæ­¢/é‡å¯/åˆ é™¤/æ—¥å¿—)

- æ‰¹é‡æ“ä½œ (å¯åŠ¨æ‰€æœ‰/åœæ­¢æ‰€æœ‰/é‡å¯æ‰€æœ‰)- ğŸš¦ å¼€æœºè‡ªå¯ - systemd æœåŠ¡ç®¡ç†- âš¡ **ç®€å•é«˜æ•ˆ** - æ— éœ€ç³»ç»Ÿçº§ WireGuard æ¥å£

- è‡ªå¯ç®¡ç† (å¼€å¯/å…³é—­å¼€æœºè‡ªå¯)

- ç³»ç»Ÿç®¡ç† (ä¿®æ”¹å¯†ç /å‡çº§/å¸è½½)- ğŸ“¦ ä¸€é”®å®‰è£… - è‡ªåŠ¨å¤„ç†æ‰€æœ‰ä¾èµ–- ğŸ”Œ **æ’ä»¶å¼è®¾è®¡** - å¯ä½œä¸º V2bX çš„æ‰©å±•æ’ä»¶ä½¿ç”¨



### å‘½ä»¤è¡Œæ¨¡å¼- ğŸ“¦ **ä¸€é”®å®‰è£…** - è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå¹¶å®Œæˆé…ç½®



```bash---

v2bx-nodemix start <å®ä¾‹å>      # å¯åŠ¨å®ä¾‹

v2bx-nodemix stop <å®ä¾‹å>       # åœæ­¢å®ä¾‹## ğŸ“ é¡¹ç›®ç»“æ„

v2bx-nodemix restart <å®ä¾‹å>    # é‡å¯å®ä¾‹

v2bx-nodemix logs <å®ä¾‹å>       # æŸ¥çœ‹æ—¥å¿—## ğŸš€ å®‰è£…

v2bx-nodemix status              # æŸ¥çœ‹çŠ¶æ€

``````



---```bashV2bX-Nodemix/



## Web ç®¡ç†ç•Œé¢wget -O install.sh https://raw.githubusercontent.com/Cd1s/V2bX-Nodemix/main/install.shâ”œâ”€â”€ v2bx-manager.sh             # å®ä¾‹ç®¡ç†è„šæœ¬



è®¿é—®: `http://æœåŠ¡å™¨IP:5000`chmod +x install.shâ”œâ”€â”€ web/                        # Web ç®¡ç†ç•Œé¢



é»˜è®¤å¯†ç : `admin123`sudo bash install.shâ”‚   â”œâ”€â”€ app.py                 # Flask åç«¯



åŠŸèƒ½:```â”‚   â”œâ”€â”€ start-web.sh           # å¯åŠ¨è„šæœ¬

- ğŸ“Š å®ä¾‹çŠ¶æ€ç›‘æ§

- âš™ï¸ åœ¨çº¿ç¼–è¾‘é…ç½®æ–‡ä»¶â”‚   â””â”€â”€ templates/             # HTML æ¨¡æ¿

- ğŸ›ï¸ å¯åŠ¨/åœæ­¢/é‡å¯å®ä¾‹

- ğŸ“‹ æŸ¥çœ‹å®æ—¶æ—¥å¿—å®‰è£…å®Œæˆåè¿è¡Œ:â”œâ”€â”€ configs/                    # é…ç½®æ–‡ä»¶ç›®å½•

- â• åˆ›å»ºæ–°å®ä¾‹

- ğŸ—‘ï¸ åˆ é™¤å®ä¾‹```bashâ”‚   â”œâ”€â”€ node1/                 # å®ä¾‹1



ä¿®æ”¹å¯†ç : è¿è¡Œ `v2bx-nodemix` é€‰æ‹© `14) ä¿®æ”¹ Web å¯†ç `v2bx-nodemixâ”‚   â”‚   â”œâ”€â”€ config.json        # V2bX é…ç½®



---```â”‚   â”‚   â””â”€â”€ sing_origin.json   # sing-box é…ç½®



## é…ç½®æ–‡ä»¶â”‚   â”œâ”€â”€ node2/                 # å®ä¾‹2



### é…ç½®ç›®å½•ç»“æ„---â”‚   â”‚   â””â”€â”€ ...



```â”‚   â””â”€â”€ template/              # é…ç½®æ¨¡æ¿

/opt/V2bX-Nodemix/configs/

â”œâ”€â”€ å®ä¾‹1/## ğŸ“– ä½¿ç”¨æ–¹æ³•â””â”€â”€ instances/                  # è¿è¡Œæ—¶ç›®å½•

â”‚   â”œâ”€â”€ config.json          # V2bX é…ç½®

â”‚   â””â”€â”€ sing_origin.json     # sing-box é…ç½® (WireGuard å‡ºç«™)    â”œâ”€â”€ node1/

â”œâ”€â”€ å®ä¾‹2/

â”‚   â””â”€â”€ ...### 1. ç®¡ç†æ§åˆ¶å°    â”‚   â”œâ”€â”€ V2bX

â””â”€â”€ template/                # é…ç½®æ¨¡æ¿

```    â”‚   â”œâ”€â”€ logs/



### config.json ç¤ºä¾‹```bash    â”‚   â””â”€â”€ pid



```json# å¯åŠ¨äº¤äº’å¼ç®¡ç†ç•Œé¢    â””â”€â”€ node2/

{

  "Log": { "Level": "info" },v2bx-nodemix        â””â”€â”€ ...

  "Cores": [{

    "Type": "sing",```

    "OriginalPath": "/opt/V2bX-Nodemix/configs/å®ä¾‹å/sing_origin.json"

  }],# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°

  "Nodes": [{

    "Core": "sing",v2bx-nodemix start <å®ä¾‹å>      # å¯åŠ¨å®ä¾‹## ğŸš€ å¿«é€Ÿå¼€å§‹

    "ApiHost": "https://your-panel.com",

    "ApiKey": "your-api-key",v2bx-nodemix stop <å®ä¾‹å>       # åœæ­¢å®ä¾‹

    "NodeID": 1,

    "NodeType": "vless",v2bx-nodemix restart <å®ä¾‹å>    # é‡å¯å®ä¾‹### æ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

    "ListenIP": "0.0.0.0"

  }]v2bx-nodemix logs <å®ä¾‹å>       # æŸ¥çœ‹æ—¥å¿—

}

```v2bx-nodemix status              # æŸ¥çœ‹çŠ¶æ€```bash



### sing_origin.json ç¤ºä¾‹```# ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬



```jsonwget -O install.sh https://raw.githubusercontent.com/Cd1s/V2bX-Nodemix/main/install.sh

{

  "outbounds": [### 2. ç®¡ç†èœå•åŠŸèƒ½chmod +x install.sh

    { "type": "direct", "tag": "direct" },

    {sudo ./install.sh

      "type": "wireguard",

      "tag": "wg-out",``````

      "server": "wgæœåŠ¡å™¨åœ°å€",

      "server_port": 51820,å®ä¾‹ç®¡ç†:

      "system_interface": false,

      "private_key": "WireGuardç§é’¥",  1  ğŸ“Š æŸ¥çœ‹æ‰€æœ‰å®ä¾‹çŠ¶æ€å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨ï¼š

      "peer_public_key": "WireGuardæœåŠ¡å™¨å…¬é’¥",

      "local_address": ["10.0.1.2/16"]  2  â–¶ï¸  å¯åŠ¨å®ä¾‹- âœ… æ£€æµ‹å¹¶å®‰è£…ä¾èµ–

    }

  ],  3  â¹ï¸  åœæ­¢å®ä¾‹- âœ… æ£€æµ‹æˆ–ä¸‹è½½ V2bX

  "route": {

    "rules": [  4  ğŸ”„ é‡å¯å®ä¾‹- âœ… å®‰è£… V2bX-Nodemix ç®¡ç†ç³»ç»Ÿ

      { "geosite": ["netflix"], "outbound": "wg-out" }

    ],  5  ğŸ“‹ æŸ¥çœ‹å®ä¾‹æ—¥å¿—- âœ… åˆ›å»ºç¤ºä¾‹é…ç½®

    "final": "wg-out"

  }  6  ğŸ“ æ‰“å¼€é…ç½®ç›®å½•- âœ… é…ç½®ç³»ç»ŸæœåŠ¡

}

```  7  ğŸ—‘ï¸  åˆ é™¤å®ä¾‹- âœ… åˆ›å»ºå‘½ä»¤è¡Œå¿«æ·æ–¹å¼



ç”Ÿæˆ WireGuard å¯†é’¥:- âœ… è‡ªåŠ¨å¤„ç† Python ç¯å¢ƒï¼ˆDebian 12+ å…¼å®¹ï¼‰

```bash

V2bX x25519æ‰¹é‡æ“ä½œ:

```

  8  â–¶ï¸  å¯åŠ¨æ‰€æœ‰å®ä¾‹å®‰è£…å®Œæˆåï¼š

---

  9  â¹ï¸  åœæ­¢æ‰€æœ‰å®ä¾‹```bash

## æ›´æ–°

  10 ğŸ”„ é‡å¯æ‰€æœ‰å®ä¾‹# 1. ç¼–è¾‘é…ç½®æ–‡ä»¶

```bash

v2bx-nodemixvi /opt/V2bX-Nodemix/configs/example/config.json

# é€‰æ‹© 16) å‡çº§ V2bX-Nodemix

```è‡ªå¯ç®¡ç†:vi /opt/V2bX-Nodemix/configs/example/sing_origin.json



æˆ–å‘½ä»¤è¡Œ:  11 âœ… å¼€å¯å¼€æœºè‡ªå¯

```bash

cd /opt/V2bX-Nodemix  12 âŒ å…³é—­å¼€æœºè‡ªå¯# 2. ç”Ÿæˆ WireGuard å¯†é’¥ï¼ˆå¦‚éœ€è¦ï¼‰

sudo bash update.sh

```  13 ğŸ“‹ æŸ¥çœ‹è‡ªå¯çŠ¶æ€V2bX x25519



---



## å¸è½½ç³»ç»Ÿç®¡ç†:# 3. è¿›å…¥ç®¡ç†æ§åˆ¶å°



```bash  14 ğŸ” ä¿®æ”¹ Web å¯†ç v2bx-nodemix

v2bx-nodemix

# é€‰æ‹© 17) å¸è½½ V2bX-Nodemix  15 ğŸŒ Web æœåŠ¡ç®¡ç†

```

  16 ğŸ”„ å‡çº§ V2bX-Nodemix# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ

æˆ–å‘½ä»¤è¡Œ:

```bash  17 ğŸ—‘ï¸  å¸è½½ V2bX-Nodemixv2bx-nodemix start example   # å¯åŠ¨å®ä¾‹

systemctl stop v2bx-nodemix-web

systemctl stop v2bx-nodemix-instances```v2bx-nodemix status          # æŸ¥çœ‹çŠ¶æ€

rm -rf /opt/V2bX-Nodemix

rm -f /usr/local/bin/v2bx-nodemixv2bx-nodemix logs example    # æŸ¥çœ‹æ—¥å¿—

rm -f /etc/systemd/system/v2bx-nodemix-*.service

systemctl daemon-reload### 3. Web ç®¡ç†ç•Œé¢```

```



---

è®¿é—®: `http://æœåŠ¡å™¨IP:5000`> **ğŸ® ç®¡ç†æ§åˆ¶å°åŠŸèƒ½**:

## è®¸å¯è¯

> - ğŸ“Š æŸ¥çœ‹æ‰€æœ‰å®ä¾‹çŠ¶æ€

MIT License

é»˜è®¤å¯†ç : `admin123` (é¦–æ¬¡ç™»å½•åè¯·ä¿®æ”¹)> - â–¶ï¸ å¯åŠ¨/åœæ­¢/é‡å¯å®ä¾‹

> - ğŸ“‹ æŸ¥çœ‹å®æ—¶æ—¥å¿—

åŠŸèƒ½:> - ğŸ“ å¿«é€Ÿè®¿é—®é…ç½®ç›®å½•

- ğŸ“Š å®ä¾‹åˆ—è¡¨å’ŒçŠ¶æ€ç›‘æ§> - ğŸ—‘ï¸ åˆ é™¤å®ä¾‹

- âš™ï¸ åœ¨çº¿ç¼–è¾‘é…ç½®æ–‡ä»¶> - ğŸ” ä¿®æ”¹ Web ç®¡ç†å¯†ç 

- ğŸ›ï¸ å¯åŠ¨/åœæ­¢/é‡å¯å®ä¾‹> - ğŸŒ Web æœåŠ¡ç®¡ç†

- ğŸ“‹ æŸ¥çœ‹å®æ—¶æ—¥å¿—> - ğŸ”„ ä¸€é”®å‡çº§ç³»ç»Ÿ

- â• åˆ›å»ºæ–°å®ä¾‹> - ğŸ—‘ï¸ å®Œå…¨å¸è½½

- ğŸ—‘ï¸ åˆ é™¤å®ä¾‹

> **ğŸ“– é…ç½®è¯´æ˜**:

---> - é¢æ¿é…ç½®: ç¼–è¾‘ `config.json` ä¸­çš„ ApiHostã€ApiKeyã€NodeID

> - WireGuard é…ç½®: å‚è€ƒ [WIREGUARD.md](WIREGUARD.md) ç”Ÿæˆå¯†é’¥å’Œé…ç½®

## âš™ï¸ é…ç½®è¯´æ˜> - å¦‚ä¸éœ€è¦ WireGuardï¼Œå¯åˆ é™¤ `sing_origin.json` ä¸­çš„ wireguard outbound



### é…ç½®æ–‡ä»¶ä½ç½®> **æ³¨æ„**: Debian 12/Ubuntu 24.04+ ä½¿ç”¨å¤–éƒ¨ç®¡ç†çš„ Python ç¯å¢ƒï¼Œå®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨ä½¿ç”¨ç³»ç»ŸåŒ… `python3-flask` æˆ–æ·»åŠ  `--break-system-packages` å‚æ•°ã€‚



```### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

/opt/V2bX-Nodemix/configs/

â”œâ”€â”€ å®ä¾‹1/#### 1. å®‰è£…ä¾èµ–

â”‚   â”œâ”€â”€ config.json          # V2bX é…ç½®

â”‚   â””â”€â”€ sing_origin.json     # sing-box é…ç½®```bash

â”œâ”€â”€ å®ä¾‹2/# Debian/Ubuntu

â”‚   â””â”€â”€ ...apt update

â””â”€â”€ template/                # é…ç½®æ¨¡æ¿apt install -y python3 python3-pip wget unzip

```

# å®‰è£… Flask

### config.json (V2bX ä¸»é…ç½®)# Debian 12/Ubuntu 24.04+

apt install -y python3-flask

```json

{# æˆ–ä½¿ç”¨ pip (æ—§ç‰ˆæœ¬ç³»ç»Ÿ)

  "Log": { "Level": "info" },pip3 install flask

  "Cores": [{

    "Type": "sing",# ä¸‹è½½ V2bX

    "OriginalPath": "/opt/V2bX-Nodemix/configs/å®ä¾‹å/sing_origin.json"mkdir -p bin && cd bin

  }],wget https://github.com/wyx2685/V2bX/releases/latest/download/V2bX-linux-amd64.zip

  "Nodes": [{unzip V2bX-linux-amd64.zip

    "Core": "sing",chmod +x V2bX

    "ApiHost": "https://your-panel.com",cd ..

    "ApiKey": "your-api-key",```

    "NodeID": 1,

    "NodeType": "vless",#### 2. å…‹éš†é¡¹ç›®

    "ListenIP": "0.0.0.0"

  }]```bash

}# å…‹éš†ä»“åº“

```git clone https://github.com/Cd1s/V2bX-Nodemix.git

cd V2bX-Nodemix

### sing_origin.json (WireGuard é…ç½®)

# æˆ–è€…ä¸‹è½½ zip

```jsonwget https://github.com/Cd1s/V2bX-Nodemix/archive/main.zip

{unzip main.zip

  "outbounds": [cd V2bX-Nodemix-main

    { "type": "direct", "tag": "direct" },```

    {

      "type": "wireguard",### 2. åˆ›å»ºå®ä¾‹é…ç½®

      "tag": "wg-out",

      "server": "wg.example.com",### 3. åˆ›å»ºå®ä¾‹é…ç½®

      "server_port": 51820,

      "system_interface": false,åœ¨ `configs/` ç›®å½•ä¸‹ä¸ºæ¯ä¸ªå®ä¾‹åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ `node1`, `node2`...

      "private_key": "ä½ çš„WireGuardç§é’¥",

      "peer_public_key": "æœåŠ¡å™¨å…¬é’¥",æ¯ä¸ªå®ä¾‹éœ€è¦ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼š

      "local_address": ["10.0.1.2/16"]

    }#### config.json (V2bX ä¸»é…ç½®)

  ],

  "route": {```json

    "rules": [{

      { "geosite": ["netflix"], "outbound": "wg-out" }  "Log": {

    ],    "Level": "info"

    "final": "wg-out"  },

  }  "Cores": [

}    {

```      "Type": "sing",

      "OriginalPath": "/opt/V2bX-Nodemix/configs/node1/sing_origin.json"

### ç”Ÿæˆ WireGuard å¯†é’¥    }

  ],

```bash  "Nodes": [

# æ–¹æ³•1: ä½¿ç”¨ V2bX    {

V2bX x25519      "Core": "sing",

      "ApiHost": "https://your-panel.com",

# æ–¹æ³•2: ä½¿ç”¨ wg å·¥å…·      "ApiKey": "your-api-key",

wg genkey | tee privatekey | wg pubkey > publickey      "NodeID": 1,

```      "NodeType": "vless",

      "ListenIP": "0.0.0.0"

---    }

  ]

## ğŸ”„ æ›´æ–°}

```

### æ–¹æ³•1: ç®¡ç†ç•Œé¢æ›´æ–°

#### sing_origin.json (sing-box æ ¸å¿ƒé…ç½® + WireGuard å‡ºç«™)

```bash

v2bx-nodemix```json

# é€‰æ‹© 16) ğŸ”„ å‡çº§ V2bX-Nodemix{

```  "dns": {

    "servers": [

### æ–¹æ³•2: å‘½ä»¤è¡Œæ›´æ–°      {

        "tag": "dns_direct",

```bash        "address": "local",

cd /opt/V2bX-Nodemix        "detour": "direct"

sudo bash update.sh      },

```      {

        "tag": "dns_cf",

æ›´æ–°åä¼šä¿ç•™:        "address": "1.1.1.1",

- âœ… æ‰€æœ‰å®ä¾‹é…ç½®        "detour": "direct"

- âœ… Web ç®¡ç†å¯†ç       },

- âœ… å®ä¾‹è¿è¡Œæ•°æ®      {

        "tag": "dns_wg",

---        "address": "8.8.8.8",

        "detour": "wg-out"

## ğŸ—‘ï¸ å¸è½½      }

    ],

### æ–¹æ³•1: ç®¡ç†ç•Œé¢å¸è½½    "rules": [

      {

```bash        "rule_set": ["geosite-netflix", "geosite-disney"],

v2bx-nodemix        "server": "dns_wg"

# é€‰æ‹© 17) ğŸ—‘ï¸ å¸è½½ V2bX-Nodemix      },

```      {

        "server": "dns_direct"

### æ–¹æ³•2: å‘½ä»¤è¡Œå¸è½½      }

    ],

```bash    "fakeip": {

# åœæ­¢æ‰€æœ‰æœåŠ¡      "enabled": true,

systemctl stop v2bx-nodemix-web      "inet4_range": "198.18.0.0/16"

systemctl stop v2bx-nodemix-instances    }

  },

# åˆ é™¤æ‰€æœ‰æ–‡ä»¶  "outbounds": [

rm -rf /opt/V2bX-Nodemix    {

rm -f /usr/local/bin/v2bx-nodemix      "type": "direct",

rm -f /etc/systemd/system/v2bx-nodemix-*.service      "tag": "direct"

systemctl daemon-reload    },

```    {

      "type": "block",

> æ³¨æ„: å¸è½½ä¸ä¼šåˆ é™¤ V2bX ä¸»ç¨‹åº,å¦‚éœ€åˆ é™¤: `rm -rf /usr/local/V2bX`      "tag": "block"

    },

---    {

      "type": "wireguard",

## ğŸ’¡ ä½¿ç”¨åœºæ™¯      "tag": "wg-out",

      "server": "wg.example.com",

### å¤šåœ°å‡ºå£èŠ‚ç‚¹      "server_port": 51820,

```      "system_interface": false,

æœåŠ¡å™¨      "private_key": "your-wireguard-private-key",

â”œâ”€â”€ æ—¥æœ¬èŠ‚ç‚¹ â†’ WireGuard â†’ æ—¥æœ¬å‡ºå£      "peer_public_key": "server-public-key",

â”œâ”€â”€ ç¾å›½èŠ‚ç‚¹ â†’ WireGuard â†’ ç¾å›½å‡ºå£      "local_address": ["10.0.1.2/16"],

â””â”€â”€ é¦™æ¸¯èŠ‚ç‚¹ â†’ WireGuard â†’ é¦™æ¸¯å‡ºå£      "mtu": 1280,

```      "workers": 4

    }

### åˆ†æµä¸“ç”¨èŠ‚ç‚¹  ],

```  "route": {

æœåŠ¡å™¨    "rule_set": [

â”œâ”€â”€ æµåª’ä½“èŠ‚ç‚¹ â†’ WireGuard â†’ æµåª’ä½“ä¸“çº¿      {

â”œâ”€â”€ æ¸¸æˆèŠ‚ç‚¹ â†’ WireGuard â†’ æ¸¸æˆä¸“çº¿        "tag": "geoip-cn",

â””â”€â”€ é€šç”¨èŠ‚ç‚¹ â†’ WireGuard â†’ å¸¸è§„å‡ºå£        "type": "remote",

```        "format": "binary",

        "url": "https://raw.githubusercontent.com/SagerNet/sing-geoip/rule-set/geoip-cn.srs",

---        "download_detour": "direct"

      },

## â“ å¸¸è§é—®é¢˜      {

        "tag": "geosite-cn",

**Q: å¦‚ä½•åˆ›å»ºæ–°å®ä¾‹?**          "type": "remote",

A: Web ç•Œé¢ç‚¹å‡»"åˆ›å»ºæ–°å®ä¾‹",æˆ–å¤åˆ¶ `configs/template/` åˆ° `configs/æ–°å®ä¾‹å/`        "format": "binary",

        "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-cn.srs",

**Q: å¦‚ä½•ä¿®æ”¹é…ç½®?**          "download_detour": "direct"

A: Web ç•Œé¢åœ¨çº¿ç¼–è¾‘,æˆ–ç›´æ¥ç¼–è¾‘ `/opt/V2bX-Nodemix/configs/å®ä¾‹å/` ä¸‹çš„æ–‡ä»¶      },

      {

**Q: å®ä¾‹å¯åŠ¨å¤±è´¥?**          "tag": "geosite-category-ads-all",

A: è¿è¡Œ `v2bx-nodemix` é€‰æ‹© 5) æŸ¥çœ‹å®ä¾‹æ—¥å¿—,æ£€æŸ¥é…ç½®å’Œ WireGuard è¿æ¥        "type": "remote",

        "format": "binary",

**Q: å¦‚ä½•ä¿®æ”¹ Web å¯†ç ?**          "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-category-ads-all.srs",

A: è¿è¡Œ `v2bx-nodemix` é€‰æ‹© 14) ä¿®æ”¹ Web å¯†ç         "download_detour": "direct"

      },

**Q: å¦‚ä½•è®¾ç½®å¼€æœºè‡ªå¯?**        {

A: è¿è¡Œ `v2bx-nodemix` é€‰æ‹© 11) å¼€å¯å¼€æœºè‡ªå¯        "tag": "geosite-netflix",

        "type": "remote",

---        "format": "binary",

        "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-netflix.srs",

## ğŸ“š ç›¸å…³æ–‡æ¡£        "download_detour": "direct"

      },

- [V2bX é¡¹ç›®](https://github.com/wyx2685/V2bX)      {

- [sing-box æ–‡æ¡£](https://sing-box.sagernet.org/)        "tag": "geosite-disney",

- [WireGuard å®˜ç½‘](https://www.wireguard.com/)        "type": "remote",

        "format": "binary",

## ğŸ“„ è®¸å¯è¯        "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-disney.srs",

        "download_detour": "direct"

MIT License      }

    ],

---    "rules": [

      {

**ç®€å• Â· é«˜æ•ˆ Â· å¼ºå¤§** ğŸš€        "rule_set": ["geosite-netflix", "geosite-disney"],

        "outbound": "wg-out"
      },
      {
        "ip_is_private": true,
        "outbound": "block"
      },
      {
        "rule_set": ["geosite-category-ads-all", "geosite-cn", "geoip-cn"],
        "outbound": "block"
      },
      {
        "ip_cidr": ["198.18.0.0/16"],
        "outbound": "direct"
      }
    ]
  },
  "experimental": {
    "cache_file": {
      "enabled": true
    }
  }
}
```

### 3. å¯åŠ¨å®ä¾‹

```bash
chmod +x v2bx-manager.sh

# å¯åŠ¨å®ä¾‹
./v2bx-manager.sh start node1

# æŸ¥çœ‹çŠ¶æ€
./v2bx-manager.sh status

# æŸ¥çœ‹æ—¥å¿—
./v2bx-manager.sh logs node1
```

### 4. å¯åŠ¨ Web ç®¡ç†ç•Œé¢

```bash
cd web
chmod +x start-web.sh
./start-web.sh
```

è®¿é—®: `http://ä½ çš„æœåŠ¡å™¨IP:5000`

## ğŸ® ç®¡ç†å‘½ä»¤

```bash
# å¯åŠ¨å®ä¾‹
./v2bx-manager.sh start <å®ä¾‹å>

# åœæ­¢å®ä¾‹
./v2bx-manager.sh stop <å®ä¾‹å>

# é‡å¯å®ä¾‹
./v2bx-manager.sh restart <å®ä¾‹å>

# æŸ¥çœ‹æ‰€æœ‰å®ä¾‹çŠ¶æ€
./v2bx-manager.sh status

# æŸ¥çœ‹å®ä¾‹æ—¥å¿—
./v2bx-manager.sh logs <å®ä¾‹å> [è¡Œæ•°]

# å¯åŠ¨æ‰€æœ‰å®ä¾‹
./v2bx-manager.sh start-all

# åœæ­¢æ‰€æœ‰å®ä¾‹
./v2bx-manager.sh stop-all
```

## ğŸŒ Web ç®¡ç†ç•Œé¢

### åŠŸèƒ½

- **å®ä¾‹åˆ—è¡¨** - æŸ¥çœ‹æ‰€æœ‰å®ä¾‹è¿è¡ŒçŠ¶æ€
- **é…ç½®ç¼–è¾‘** - åœ¨çº¿ç¼–è¾‘ `config.json` å’Œ `sing_origin.json`
- **å®ä¾‹æ§åˆ¶** - å¯åŠ¨/åœæ­¢/é‡å¯å®ä¾‹
- **æ—¥å¿—æŸ¥çœ‹** - å®æ—¶æŸ¥çœ‹è¿è¡Œæ—¥å¿—

### ä½¿ç”¨

1. åœ¨ä¸»é¡µæŸ¥çœ‹æ‰€æœ‰å®ä¾‹çŠ¶æ€
2. ç‚¹å‡»"ç¼–è¾‘é…ç½®"åœ¨çº¿ä¿®æ”¹é…ç½®æ–‡ä»¶
3. ä¿®æ”¹åä¿å­˜ï¼Œç„¶åé‡å¯å®ä¾‹ä½¿é…ç½®ç”Ÿæ•ˆ

## ğŸ“ é…ç½®è¯´æ˜

### WireGuard å¯†é’¥ç”Ÿæˆ

```bash
# å®‰è£… WireGuard å·¥å…·
apt install wireguard-tools

# ç”Ÿæˆå¯†é’¥å¯¹
wg genkey | tee privatekey | wg pubkey > publickey

# æŸ¥çœ‹å¯†é’¥
cat privatekey  # ç§é’¥ï¼ˆå¡«å…¥ sing_origin.jsonï¼‰
cat publickey   # å…¬é’¥ï¼ˆå‘ç»™ WG æœåŠ¡å™¨ç®¡ç†å‘˜ï¼‰
```

### é…ç½®æ–‡ä»¶ä½ç½®

- **V2bX é…ç½®**: `configs/<å®ä¾‹å>/config.json`
- **sing-box é…ç½®**: `configs/<å®ä¾‹å>/sing_origin.json`

### ä¸»è¦é…ç½®é¡¹

#### config.json

- `OriginalPath`: sing_origin.json çš„å®Œæ•´è·¯å¾„
- `ApiHost`: V2Board é¢æ¿åœ°å€
- `ApiKey`: API å¯†é’¥
- `NodeID`: èŠ‚ç‚¹ ID

#### sing_origin.json

- `outbounds[0].server`: WireGuard æœåŠ¡å™¨åœ°å€
- `outbounds[0].server_port`: WireGuard ç«¯å£
- `outbounds[0].local_address`: æœ¬åœ°è™šæ‹Ÿ IP
- `outbounds[0].private_key`: WireGuard ç§é’¥
- `outbounds[0].peer_public_key`: WireGuard æœåŠ¡å™¨å…¬é’¥
- `route.final`: é»˜è®¤å‡ºç«™ï¼ˆé€šå¸¸æ˜¯ WireGuardï¼‰

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### å¤šåœ°å‡ºå£èŠ‚ç‚¹

```
æœåŠ¡å™¨
â”œâ”€â”€ node1 â†’ WireGuard â†’ å‡ºå£A (å¦‚: æ—¥æœ¬)
â”œâ”€â”€ node2 â†’ WireGuard â†’ å‡ºå£B (å¦‚: ç¾å›½)
â””â”€â”€ node3 â†’ WireGuard â†’ å‡ºå£C (å¦‚: æ–°åŠ å¡)
```

### ä¸åŒç”¨é€”åˆ†æµ

```
æœåŠ¡å™¨
â”œâ”€â”€ node1 â†’ æ¸¸æˆä¸“ç”¨ (ä½å»¶è¿Ÿå‡ºå£)
â”œâ”€â”€ node2 â†’ æµåª’ä½“ä¸“ç”¨ (é«˜å¸¦å®½å‡ºå£)
â””â”€â”€ node3 â†’ é€šç”¨èŠ‚ç‚¹ (å¸¸è§„å‡ºå£)
```

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰è·¯ç”±è§„åˆ™

ç¼–è¾‘ `sing_origin.json`:

```json
{
  "route": {
    "rules": [
      {
        "geosite": ["netflix", "disney"],
        "outbound": "wg-out"
      },
      {
        "geosite": "cn",
        "outbound": "direct"
      },
      {
        "domain_suffix": [".cn"],
        "outbound": "direct"
      }
    ],
    "final": "wg-out"
  }
}
```

### å¤šä¸ª WireGuard å‡ºç«™

```json
{
  "outbounds": [
    {
      "type": "wireguard",
      "tag": "wg-primary",
      "server": "primary.wg.example.com",
      "server_port": 51820,
      "local_address": ["10.0.1.2/24"],
      "private_key": "...",
      "peer_public_key": "..."
    },
    {
      "type": "wireguard",
      "tag": "wg-backup",
      "server": "backup.wg.example.com",
      "server_port": 51820,
      "local_address": ["10.0.2.2/24"],
      "private_key": "...",
      "peer_public_key": "..."
    }
  ],
  "route": {
    "final": "wg-primary"
  }
}
```

## ğŸ”’ å®‰å…¨å»ºè®®

### 1. ä½¿ç”¨ Nginx åå‘ä»£ç†

```nginx
server {
    listen 80;
    server_name v2bx.yourdomain.com;
    
    location / {
        proxy_pass http://127.0.0.1:5000;
        auth_basic "Admin Area";
        auth_basic_user_file /etc/nginx/.htpasswd;
    }
}
```

### 2. é…ç½®é˜²ç«å¢™

```bash
# é™åˆ¶ Web ç•Œé¢è®¿é—®
ufw allow from <ä½ çš„IP> to any port 5000
```

### 3. å®šæœŸå¤‡ä»½é…ç½®

```bash
tar -czf v2bx-backup-$(date +%Y%m%d).tar.gz configs/
```

## â“ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•æ·»åŠ æ–°å®ä¾‹ï¼Ÿ**  
A: åœ¨ `configs/` ä¸‹åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œæ·»åŠ  `config.json` å’Œ `sing_origin.json`ï¼Œç„¶åå¯åŠ¨å³å¯ã€‚

**Q: å¦‚ä½•ä¿®æ”¹é…ç½®ï¼Ÿ**  
A: å¯ä»¥ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œæˆ–é€šè¿‡ Web ç•Œé¢åœ¨çº¿ç¼–è¾‘ï¼Œä¿®æ”¹åé‡å¯å®ä¾‹ç”Ÿæ•ˆã€‚

**Q: å®ä¾‹å¯åŠ¨å¤±è´¥ï¼Ÿ**  
A: æŸ¥çœ‹æ—¥å¿— `./v2bx-manager.sh logs <å®ä¾‹å>`ï¼Œæ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼å’Œ WireGuard è¿æ¥ã€‚

**Q: Web ç•Œé¢å¦‚ä½•è®¾ç½®å¯†ç ï¼Ÿ**  
A: ä½¿ç”¨ Nginx åå‘ä»£ç†é…ç½® HTTP Basic Authï¼Œæˆ–ä¿®æ”¹ `web/app.py` æ·»åŠ è®¤è¯ã€‚

**Q: Debian 12 å®‰è£… Flask æŠ¥é”™ "externally-managed-environment"ï¼Ÿ**  
A: è¿™æ˜¯æ­£å¸¸çš„ã€‚å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ï¼Œä½¿ç”¨ä»¥ä¸‹ä»»ä¸€æ–¹æ³•ï¼š
```bash
# æ–¹æ³•1: ä½¿ç”¨ç³»ç»ŸåŒ…ï¼ˆæ¨èï¼‰
apt install python3-flask

# æ–¹æ³•2: ä½¿ç”¨ pip çš„ç‰¹æ®Šå‚æ•°
pip3 install flask --break-system-packages

# æ–¹æ³•3: æ‰‹åŠ¨è¿è¡Œå®‰è£…è„šæœ¬ï¼Œå®ƒä¼šè‡ªåŠ¨é€‰æ‹©æ­£ç¡®çš„æ–¹æ³•
./install.sh
```

## ğŸ“š ç›¸å…³èµ„æº

- [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICKSTART.md) - ä¸€é”®å®‰è£…å’Œå¿«é€Ÿä½¿ç”¨
- [sing-box æ–‡æ¡£](https://sing-box.sagernet.org/)
- [V2bX é¡¹ç›®](https://github.com/wyx2685/V2bX)
- [WireGuard å®˜ç½‘](https://www.wireguard.com/)

## ğŸ”„ æ›´æ–°

```bash
cd /opt/V2bX-Nodemix
./update.sh
```

æˆ–æ‰‹åŠ¨æ›´æ–°ï¼š

```bash
cd /opt/V2bX-Nodemix
git pull
systemctl restart v2bx-nodemix-web
```

## ï¿½ï¸ å¸è½½

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¸è½½è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# ä¸‹è½½å¹¶è¿è¡Œå¸è½½è„šæœ¬
wget -O uninstall.sh https://raw.githubusercontent.com/Cd1s/V2bX-Nodemix/main/uninstall.sh
chmod +x uninstall.sh
sudo ./uninstall.sh
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å¸è½½

```bash
# åœæ­¢æ‰€æœ‰å®ä¾‹
v2bx-nodemix stop-all

# åœæ­¢å¹¶ç¦ç”¨ Web æœåŠ¡
systemctl stop v2bx-nodemix-web
systemctl disable v2bx-nodemix-web
rm -f /etc/systemd/system/v2bx-nodemix-web.service
systemctl daemon-reload

# åˆ é™¤å‘½ä»¤è¡Œå·¥å…·
rm -f /usr/local/bin/v2bx-nodemix

# åˆ é™¤å®‰è£…ç›®å½•
rm -rf /opt/V2bX-Nodemix
```

**æ³¨æ„**: å¸è½½ V2bX-Nodemix ä¸ä¼šåˆ é™¤ V2bX ä¸»ç¨‹åºã€‚å¦‚éœ€åˆ é™¤ V2bXï¼š
```bash
rm -rf /usr/local/V2bX
```

## ï¿½ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**ç®€å•é«˜æ•ˆçš„å¤šå®ä¾‹ç®¡ç†** ğŸš€
