# V2bX-Nodemix 更新日志

## v3.1 - 2025-11-02

### 🎉 新增功能

#### 批量操作
- ✅ **启动所有实例** - 一键启动所有已配置的实例
- ✅ **停止所有实例** - 一键停止所有运行中的实例  
- ✅ **重启所有实例** - 一键重启所有实例

#### 开机自启管理
- ✅ **开启开机自启** - 配置系统启动时自动启动所有实例
- ✅ **关闭开机自启** - 禁用开机自动启动功能
- ✅ **查看自启状态** - 查看当前开机自启配置和服务状态

### 🐛 Bug 修复

1. **实例选择优化**
   - ✅ 选择实例时现在显示清晰的编号列表
   - ✅ 实例状态用不同颜色显示 (绿色=运行中, 红色=已停止)
   - ✅ 增加输入验证,避免无效选择

2. **日志路径错误修复**
   - ✅ 修复了启动实例时错误显示日志路径的问题
   - ✅ 日志路径现在正确显示完整的实例名称

3. **启动失败信息优化**
   - ✅ 启动失败时提供更清晰的错误信息
   - ✅ 移除多余的错误日志路径显示

4. **输入验证增强**
   - ✅ 选择实例时增加数字格式验证
   - ✅ 范围检查确保选择在有效范围内

### 📋 菜单结构更新

新菜单现在包含 **17个选项**:

**实例管理 (1-7)**
1. 📊 查看所有实例状态
2. ▶️  启动实例
3. ⏹️  停止实例
4. 🔄 重启实例
5. 📋 查看实例日志
6. 📁 打开配置目录
7. 🗑️  删除实例

**批量操作 (8-10)**
8. ▶️  启动所有实例
9. ⏹️  停止所有实例
10. 🔄 重启所有实例

**自启管理 (11-13)**
11. ✅ 开启开机自启
12. ❌ 关闭开机自启
13. 📋 查看自启状态

**系统管理 (14-17)**
14. 🔐 修改 Web 密码
15. 🌐 Web 服务管理
16. 🔄 升级系统
17. 🗑️  卸载 V2bX-Nodemix

0. ❌ 退出

### 🔧 技术改进

- **批量操作统计**: 显示成功/失败数量
- **systemd 服务**: 自动创建 `v2bx-nodemix-instances.service`
- **交互式确认**: 开启/关闭自启时提供立即操作选项
- **颜色编码**: 菜单按功能分组并使用不同颜色

### 📝 使用示例

```bash
# 启动管理控制台
v2bx-nodemix

# 批量操作
选择操作 [0-17]: 8    # 启动所有实例
选择操作 [0-17]: 9    # 停止所有实例

# 自启管理
选择操作 [0-17]: 11   # 开启开机自启
选择操作 [0-17]: 13   # 查看自启状态

# 实例操作 (优化后的选择界面)
选择操作 [0-17]: 2    # 启动实例

可用实例:
  1) MO [运行中]
  2) KH [停止]
  3) PH [停止]
  
选择实例编号 [1-3]: 2
```

---

## v3.0 - 之前版本

- ✅ 交互式管理控制台
- ✅ Web 管理界面
- ✅ 实例 CRUD 操作
- ✅ WireGuard 配置支持
- ✅ 密码管理
- ✅ 系统升级功能
- ✅ 自动依赖安装
